<!DOCTYPE html>
<html lang="fr">

<head>
    <title>Roulette TMDB</title>
    <meta name="description" content="Faites tourner la roue et obtenez de nouvelles idées de films et de séries à regarder.">
    <link href="main.css" rel="stylesheet">
</head>

<body>
    <header id="header">
        <div class="inner">
            <div id="mobile-close"><span class="op">Fermer</span></div>
        </div>
    </header>
    <main>
        <div class="top-area">
            <a>Le <strong>meilleur</strong> site pour du Netflix & <strong>chill</strong></a>
        </div>
        <div class="column-container">
            <div class="primary">
                <div class="section">
                    <h1 class="top-element">Roulette TMDB</h1>
                    <p class="intro">Faites tourner la roue et obtenez de nouvelles idées de films et de séries à regarder.</p>
                    <div class="roulette" id="roulette-container">
                        <div class="filters">
                            <div class="radios">
                                <div>
                                    <input type="radio" name="roulette-filter-type" id="roulette-filter-type-movies" value="movies" checked>
                                    <label for="roulette-filter-type-movies">Films</label>
                                </div>
                                <div>
                                    <input type="radio" name="roulette-filter-type" id="roulette-filter-type-series" value="series">
                                    <label for="roulette-filter-type-series">Séries</label>
                                </div>
                            </div>
                            <button id="roulette-btn" class="">Tourner La Roue</button>
                        </div>
                        <div class="results with-result" id="roulette-results">
                            <div class="title">
                                <a class="item-init item poster">
                                    <div class="poster" id="poster-of-program" style="background-image: url('https://c.flikshost.com/81447496/posters/AAAABbwMLewacJ6Yl0dD_x_ddwIaLc8ktkrQNJcRn_93Q7mUruIg5tCDYwy3dknx7GVW5H7_30Sg-FQbwBb6A0De12wBiw.jpg')"></div>
                                    <!-- IMAGE DU FILM / SERIE-->
                                </a>
                                <div class="info">
                                    <div class="inner">
                                        <a class="item-init item roulette">
                                            <h2 id="title-of-program2">Believe Me : Enlevée par un tueur</h2>
                                            <!-- TITRE DU FILM / SERIE-->
                                        </a>
                                        <div class="sub-title">
                                            <div class="meta"><a id="year-of-program2">2018</a> - <a id="time-of-program2">87</a> minutes </div>
                                            <!-- ANNEE ET DUREE DU FILM / SERIE-->
                                        </div>
                                        <p id="resume-of-program2">Dans ce film inspiré de faits réels, une adolescente de Floride se fait kidnapper puis parvient à fuir, mais peine à convaincre sa famille et la police de son calvaire.</p>
                                        <!-- RESUME DU FILM / SERIE-->
                                        <ul class="genres">
                                            <!-- CATEGORIE DU FILM / SERIE-->
                                            <li id="categorie-of-program2">Crime</li>
                                            <script src="https://use.fontawesome.com/fe459689b4.js"></script>
                                            <button class="btn" id="green"><i class="fa fa-thumbs-up fa-lg" aria-hidden="true"></i></button>
                                            <button class="btn" id="red"><i class="fa fa-thumbs-down fa-lg" aria-hidden="true"></i></button>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <div id="snackbar"></div>
    <div id="to-the-top" class="op"></div>
    <script>
        const btn = document.getElementById('roulette-btn');

        btn.addEventListener('click', function handleClick() {
            console.log("----------------------------------------")
            console.log("You have click on the button")
            if (document.getElementById('roulette-filter-type-movies').checked) {
                console.log("movies was checked")
                RandomMovie()
            } else if (document.getElementById('roulette-filter-type-series').checked) {
                console.log("series was checked")
                RandomSerie()
            }
        });


        function RandomMovie() {


            //appel api


            r_poster = "url(images/img.jpg)"
            r_title = "test"
            r_year = "0000"
            r_time = "589"
            r_resume = "blblblblblblblbl"
            r_categorie = "DARK"

            Display(r_poster, r_title, r_year, r_time, r_resume, r_categorie)
        }


        function RandomSerie() {


            //appel api

            const userAction = async() => {
                const response = await fetch('IP:PORT/movies.json');
                const myJson = await response.json(); //extract JSON from the http response
                // do something with myJson
            }


            r_poster = "url(images/img.jpg)"
            r_title = "C EST UN TITRE"
            r_year = "488548"
            r_time = "2"
            r_resume = "C'est l'histroiujzefnqsidfjqsd"
            r_categorie = "DSafg"

            Display(r_poster, r_title, r_year, r_time, r_resume, r_categorie)

        }

        function Display(poster, title, year, time, resume, categorie) {

            document.getElementById("poster-of-program").style.backgroundImage = poster;
            document.getElementById("title-of-program2").innerHTML = title;
            document.getElementById("year-of-program2").innerHTML = year;
            document.getElementById("time-of-program2").innerHTML = time;
            document.getElementById("resume-of-program2").innerHTML = resume;
            document.getElementById("categorie-of-program2").innerHTML = categorie;

        }
        var btn1 = document.querySelector('#green');
        var btn2 = document.querySelector('#red');

        btn1.addEventListener('click', function() { 
            if (btn2.classList.contains('red')) {
            btn2.classList.remove('red');
            } 
        this.classList.toggle('green');   
        });

        btn2.addEventListener('click', function() {
            if (btn1.classList.contains('green')) {
            btn1.classList.remove('green');
            } 
        this.classList.toggle('red');
        });

    </script>
</body>

</html>